<?xml version="1.0" encoding="UTF-8 ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
	"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">

<head>
<title>bsfilter with mew</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="adalign" content="right" />
<link rel="stylesheet" href="bsfilter.css" type="text/css" />
</head>

<body>
<h1>bsfilter with mew</h1>

<p><a href="index.html">index</a></p>

<h2>bsfilterをmew version 5以降から使う</h2>
<p>bsfilterを使用するよう、mewのspam関係の設定を行う。</p>

<h3>インストール</h3>
<ul>
<li>mewのバージョンに合わせてmua/mew{5, 6, 6.4}/mew.elを~/.emacs.elなどに追加する。</li>
</ul>

<h3>使い方</h3>
<p>mewがメッセージを取得する際、既にMTA, POP proxy等によりX-Spam-Flagヘッダが付いている場合には、spamに自動的に"D"マークが付く。</p>
<p>summaryモードで以下が利用できる。</p>
<dl>
<dt>lh</dt><dd>learn-ham。現在のメッセージをcleanとして学習する。</dd>
<dt>ls</dt><dd>learn-spam。現在のメッセージをspamとして学習する。</dd>
<dt>lm</dt><dd>リージョン内のメイルを学習、判定。spamには"*"マークが付く。(mew 6.4以降)</dd>
<dt>bm</dt><dd>リージョン内のメイルを学習、判定。spamには"*"マークが付く。(mew 6.3以前)</dd>
</dl>


<h2>bsfilterをmew version 4から使う</h2>
<p>bsfilterを使用するよう、mewのspam関係の設定を行う。</p>

<h3>インストール</h3>
<ul>
<li>mua/mew4/emacs.elを~/.emacs.elに追加する。</li>
<li>mua/mew4/mew.elを~/.mew.elに追加する。Mew 4.2.53の場合は、mew-summary-bsfilter-mark-regionについて、コメントアウトされている定義を使用する。</li>
</ul>

<h3>使い方</h3>
<p>mewがメッセージを取得する際、既にMTA, POP proxy等によりX-Spam-Flagヘッダが付いている場合には、spamに自動的に"D"マークが付く。</p>
<p>summaryモードで以下が利用できる。</p>
<dl>
<dt>lh</dt><dd>learn-ham。現在のメッセージをcleanとして学習する。</dd>
<dt>ls</dt><dd>learn-spam。現在のメッセージをspamとして学習する。</dd>
<dt>bm</dt><dd>リージョン内のメイルを学習、判定。spamには"*"マークが付く。</dd>
</dl>

<h2>bsfilter mew version 3 front-endとは</h2>
<p>mew version 3のsummaryモードからbsfilterの呼び出しを可能にする、emacs lispとshell script。</p>

<h3>インストール</h3>
<ul>
<li>mua/mew3/mew.elを~/.mew.elに追加する。</li>
<li>mua/mew3/bs_mark、bs_clean、bs_spamを、PATHの通ったディレクトリに置く。</li>
</ul>

<h3>使い方</h3>
<p>summaryモードで以下が利用できる。</p>
<dl>
<dt>bm</dt>
<dd>カーソルのある行のメイルを、cleanかspamか判定。判定結果に従い、メイルのヘッダに"X-Spam-Flag: Yes"などを追加し、"*"マークを付ける。</dd>
<dt>bM</dt>
<dd>bmと同じ処理を、"@"マークがついている全てのメイルに対して行う。
「"X-Spam-Flag: Yes"はSPAMフォルダに移動する」というような振り分けルールを設定しておき、bMの後にC-u M-oするのがお薦め。</dd>
<dt>bc</dt>
<dd>カーソルのある行のメイルに対して、--add-clean --sub-spam --updateを行う。
-aでの誤判定(cleanをspamと誤判定)に基づき更新されたデータベースを修復するのに使用できる。</dd>
<dt>bC</dt>
<dd>bcと同じ処理を、"@"マークがついている全てのメイルにたいして行う。</dd>
<dt>bs</dt>
<dd>カーソルのある行のメイルに対して、--sub-clean --add-spam --updateを行う。
-aでの誤判定(spamをcleanと誤判定)に基づき更新されたデータベースを修復するのに使用できる。</dd>
<dt>bS</dt>
<dd>bsと同じ処理を、"@"マークがついている全てのメイルにたいして行う。</dd>
</dl>

<p><a href="index.html">index</a></p>

</body>
</html>
